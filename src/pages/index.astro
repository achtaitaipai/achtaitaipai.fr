---
import { getCollection } from 'astro:content'
import ProjectCard from 'src/components/ProjectCard.astro'
import Base from 'src/layouts/Base.astro'

const projects = (await getCollection('projects'))
	.filter((el) => el.data.highlight === true)
	.sort((a, b) => b.data.year - a.data.year)
---

<Base title="Bonjour">
	<section class="flow">
		<h1>Bonjour</h1>
		<p>
			Je m'appelle Charles. Je bricole des petits jeux, des outils, des sites
			internet et d'autres trucs. Dans mes fabrications, j'essaie d'être
			économique, produire beaucoup avec peu fait partie de mes objectifs.
			J'aime internet, ça permet de partager simplement toutes sortes de trucs.
			J'aimerai plus de sites indépendants, que les gens reprennent le contrôle
			sur la façon dont ils montrent ce qu'ils font.
		</p>
		<h2>Maintenant</h2>
		<p>
			Je gagne ma vie en développant des sites internets. Sur mon temps libre,
			je travaille principalement sur <a href="https://odyc.dev">Odyc</a>. Une
			librairie et un site internet pour permettre à qui le veut de coder des
			petits jeux vidéo. Lorsque l'occasion se présente, j'anime des ateliers
			sur la création numérique.
		</p>
		<hr />
	</section>
	<section class="flow">
		<h2>Projets</h2>
		<div class="region flow">
			{projects.map((el) => <ProjectCard slug={el.slug} />)}
			<a href="/projets" class="link">&rightarrow; Tous les projets</a>
		</div>
	</section>
</Base>
