---
title: L'opÃ©rateur % en javascript
date: 2024-08-16
description: Quelques notes sur l'opÃ©rateur % et ses diffÃ©rences avec le modulo
---

import Anim from "./_Anim.svelte"

J'ai eu envie d'Ã©crire ce petit article aprÃ¨s la lecture de celui de  [Josh Comeau](https://www.joshwcomeau.com/javascript/modulo-operator/), sur le mÃªme sujet. D'abord parcequ'il est excellent, mais aussi par envie d'ajouter quelques informations et prÃ©cisions.

## Qu'est-ce qu'un opÃ©rateur ?

En programmation un opÃ©rateur consiste en un symbole ou une suite de symbole, qui indique au compilateur ou interprÃ©teur qu'il doit effectuer une opÃ©ration. Chaque langage a ses propres opÃ©rateurs et mÃªme s'ils ons souvent une syntaxte symilaires, il existe aussi des diffÃ©rences.

Par exemple, dans le cas de javascript :

- l'opÃ©rateur `===` inidique Ã  l'interprÃ©teur qu'il doit comparer la valeur de gauche est celle de droite
- l'opÃ©rateur `+` indique Ã  l'interprÃ©teur qu'il doit retourner la somme des deux valeurs.
-  l'opÃ©rateur `??` indique Ã  l'interprÃ©teur qu'il doit retourner la valeur de gauche si elle est diffÃ©rente de `null` et de `undefined` et la valeur de droite dans le cas contraire.

## L'opÃ©rateur %

Pour ce qui est de l'opÃ©rateur `%`, il retournera le reste de la division de la valeur de gauche par la valeur de droite.

Par exemple:

- `13 % 3` retournera `1`car `13 = 3 x 4 + 1`
- `4 % 1` retournera `0`car `4 = 4 x 1 + 0`
- `-5 % 2` retournera `-1`car `-5 = -2 x 2 + -1`

## Utilisations courrantes

### Savoir si un nombre est pair

Pour savoir si un nombre est pair notre opÃ©rateur peut se montrer bien utile:

```js
const isEven = (n) => n % 2 === 0
```

### RÃ©ussir ses entretiens d'embauche ğŸ˜…

La lÃ©gende veut que dans les entretiens techniques, on pose souvent le problÃ¨me suivant :

Ã‰crivez une fonction qui, pour chaque nombre entier passÃ© en entrÃ©e, retourne :

- "Fizz" si le nombre est divisible par 3.
- "Buzz" si le nombre est divisible par 5.
- "FizzBuzz" si le nombre est divisible par 3 et par 5.
- Le nombre sous forme de chaÃ®ne de caractÃ¨res, dans les autres cas.

```js
const fizzBuzz = (n) => {
  let result = ""
  if (n % 3 === 0) result += "Fizz"
  if (n % 5 === 0) result += "Buzz"
  return result || n.toString()
}
```

## Boucler sur un tableau

Mettons qu'on veuille jouer une animation, Ã  l'aide de javascript. Cette animation sera composÃ©e des emojis suivants: ğŸ•›ğŸ•ğŸ•‘ğŸ•’ğŸ•“ğŸ•”ğŸ••ğŸ•–ğŸ•—ğŸ•˜ğŸ•™ğŸ•šğŸ•›

Un bouton `+`, nous permettra de passer Ã  la sprite suivante, et lorsqu'on passera la derniÃ¨re sprite on reviendra Ã  la premiÃ¨re.

Le code pourrait ressembler Ã  quelque chose comme ceci :

```js
const SPRITES = ['ğŸ•›','ğŸ•','ğŸ•‘','ğŸ•’','ğŸ•“','ğŸ•”','ğŸ••','ğŸ•–','ğŸ•—','ğŸ•˜','ğŸ•™','ğŸ•š']
let current = 0

function next(){
    current = (current + 1) % SPRITES.length
    showSprite(SPRITES[current])
}
```

<Anim client:idle/>

## Le piÃ¨ge de l'opÃ©rateur %

On se rend compte des limites de notre cher opÃ©rateur lorsqu'on s'imagine ajouter un bouton `-`. En effet, on voudrait que notre belle animation boucle dans les deux sens. Or en javascript `-1 % 12`, retourne `-1` et non pas `11` comme on le voudrait.

Si on jette une oeil Ã  [la documentation MDN](https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Operators/Remainder), on se rend compte que c'est le rÃ©sultat qu'on obtiendrait avec un opÃ©rateur `modulo` et non pas `reste`, malheureusement cet opÃ©rateur n'existe pas en javascript. Pour y remÃ©dier on peut Ã©crire la petite fonction utilitaire proposÃ©e par la documentation :

```js 
const SPRITES = ['ğŸ•›','ğŸ•','ğŸ•‘','ğŸ•’','ğŸ•“','ğŸ•”','ğŸ••','ğŸ•–','ğŸ•—','ğŸ•˜','ğŸ•™','ğŸ•š']
let current = 0

function modulo(value, mod){
    return ((val % mod ) + mod ) % mod
}

function next(value){
    current = modulo(current + value, SPRITES.length)
    showSprite(SPRITES[current])
}
```

<Anim lessBtn client:idle/>